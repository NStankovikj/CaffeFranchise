<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>

    <f:view locale="#{localeBean.locale}" encoding="UTF-8" contentType="text/html" >
        <h:head>
            <h:outputStylesheet library="css" name="styles.css" />
            <title>#{msg.Farmakovigilanca}</title>
            <link href="#{resource['images:favicon.ico']}" rel="shortcut icon" type="image/x-icon" />
        </h:head>


        <h:body  styleClass="hold-transition login-page">
            <div class="login-box">
                <div class="login-logo">
                    <p:link href="index.xhtml"><b>Caffe</b>Franchise</p:link>
                </div>
                <!-- /.login-logo -->
                <div class="box login-box-body">
                    <h:form id="login">

                        <div class="form-group has-feedback">
                            <p:outputLabel for="radioSelect" value="#{msg['forgotPassword.label.select']}" styleClass="forgotPasswordLabels"/>
                            <p:selectOneRadio id="radioSelect" value="#{forgotPasswordController.select}" layout="grid" columns="1">
                                <f:selectItem itemLabel="#{msg['user.username']}" itemValue="username" />
                                <f:selectItem itemLabel="#{msg['user.email']}" itemValue="mailAddress" />
                            </p:selectOneRadio>
                        </div>

                        <div class="form-group has-feedback">
                            <p:outputLabel for="inputUE" value="#{msg['forgotPassword.label.inputUE']}" styleClass="forgotPasswordLabels"/>
                            <p:inputText id="inputUE" value="#{forgotPasswordController.inputUE}" styleClass="form-control" required="true" requiredMessage="#{msg['requiredMessage']}"/>
                            <h:message for="inputUE" style="color: red;"/>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group has-feedback">
                                    <p:outputLabel for="captchaInput" value="#{msg['forgotPassword.label.captcha']}" styleClass="forgotPasswordLabels"/>
                                    <p:inputText id="captchaInput" styleClass="form-control" placeholder="#{msg['forgotPassword.label.captcha']}" value="#{forgotPasswordController.captchaInput}" required="true" requiredMessage="#{msg['requiredMessage']}"/>
                                    <h:message for="captchaInput" style="color: red;"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group has-feedback">
                                    <h:graphicImage id="captchaImgID"  value="/public/simpleCaptcha.png"/>
                                    <h:commandButton image="#{resource['images/refresh.png']}" >
                                        <f:ajax execute="captchaImgID" render="captchaImgID" />
                                    </h:commandButton>
                                </div>
                            </div>

                        </div>
                        <p:commandButton value="#{msg['SubmitBtt']}" styleClass="form-control btn btn-success" action="#{forgotPasswordController.changepass}" update="@form"/>
                        <h:messages globalOnly="true" layout="table" style="color: red; margin-left: auto; margin-right: auto"/>
                        <p:dialog header="#{msg['information']}" widgetVar="dlgInfo" minHeight="50" modal="true" >
                            <p:outputLabel value="#{msg['forgotPasswordSuccessSendMeil']}"/>
                        </p:dialog>
                        <br/>
                        <br/>

                        <a href="#{request.contextPath}/pages/login/login.xhtml">#{msg['forgotPassword.backToLogin']}</a>

                    </h:form>


                </div>
            </div>
        </h:body>
    </f:view>
</html>

